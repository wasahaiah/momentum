"use strict";(globalThis.webpackChunkmomentum_website=globalThis.webpackChunkmomentum_website||[]).push([[4081],{29951:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"user_guide/getting_started","title":"Getting Started","description":"This page guides you through the process of installing and using PyMomentum, the Python bindings for Momentum.","source":"@site/docs_python/01_user_guide/01_getting_started.md","sourceDirName":"01_user_guide","slug":"/user_guide/getting_started","permalink":"/momentum/pymomentum/user_guide/getting_started","draft":false,"unlisted":false,"editUrl":"https://github.com/facebookresearch/momentum/edit/main/momentum/website/docs_python/01_user_guide/01_getting_started.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","next":{"title":"Examples","permalink":"/momentum/pymomentum/examples/python_basics"}}');var s=i(74848),t=i(28453);const r={sidebar_position:1},d="Getting Started",a={},l=[{value:"Installing PyMomentum",id:"installing-pymomentum",level:2},{value:"Quick Installation",id:"quick-installation",level:3},{value:"PyPI (pip, uv)",id:"pypi-pip-uv",level:4},{value:"Pixi",id:"pixi",level:4},{value:"Conda",id:"conda",level:4},{value:"Checking Available Versions",id:"checking-available-versions",level:3},{value:"Building PyMomentum from Source",id:"building-pymomentum-from-source",level:2},{value:"Prerequisite",id:"prerequisite",level:3},{value:"Build and Test",id:"build-and-test",level:3},{value:"Building from Source for Custom Environments",id:"building-from-source-for-custom-environments",level:3},{value:"Option 1: Add your code/packages to the pixi environment (recommended for quick testing)",id:"option-1-add-your-codepackages-to-the-pixi-environment-recommended-for-quick-testing",level:4},{value:"Option 2: Build in your custom conda environment",id:"option-2-build-in-your-custom-conda-environment",level:4},{value:"Troubleshooting",id:"troubleshooting",level:4}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components},{FbInternalOnly:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("FbInternalOnly",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"getting-started",children:"Getting Started"})}),"\n",(0,s.jsx)(n.p,{children:"This page guides you through the process of installing and using PyMomentum, the Python bindings for Momentum."}),"\n",(0,s.jsx)(n.h2,{id:"installing-pymomentum",children:"Installing PyMomentum"}),"\n",(0,s.jsx)(n.p,{children:"PyMomentum is available through multiple package managers. Pre-built binaries are provided for Windows, macOS, and Linux."}),"\n",(0,s.jsx)(n.admonition,{title:"Version Support Policy",type:"info",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"We support only current stable versions"})," of Python, PyTorch, and CUDA as available on conda-forge and PyPI. Maintaining compatibility across all historical version combinations is not feasible, as neither conda-forge nor PyPI provide long-term support for older dependency combinations. If you require an older environment, you may build from source at your own discretion, but compatibility and support are not guaranteed."]})}),"\n",(0,s.jsx)(n.h3,{id:"quick-installation",children:"Quick Installation"}),"\n",(0,s.jsx)(n.p,{children:"Choose your preferred installation method based on your workflow:"}),"\n",(0,s.jsx)(n.h4,{id:"pypi-pip-uv",children:"PyPI (pip, uv)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Best for:"})," Standard Python projects, virtual environments, pip-based workflows."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Using uv (preferred over pip)\nuv add pymomentum-cpu   # CPU version\nuv add pymomentum-gpu   # GPU version (requires CUDA)\n\n# Alternative: Using pip\npip install pymomentum-cpu\npip install pymomentum-gpu\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Browse packages:"})," ",(0,s.jsx)(n.a,{href:"https://pypi.org/project/pymomentum-cpu/",children:"pymomentum-cpu"}),", ",(0,s.jsx)(n.a,{href:"https://pypi.org/project/pymomentum-gpu/",children:"pymomentum-gpu"})]}),"\n",(0,s.jsxs)(n.admonition,{title:"Experimental PyPI Support",type:"caution",children:[(0,s.jsxs)(n.p,{children:["PyPI support is currently ",(0,s.jsx)(n.strong,{children:"experimental"}),". We encourage you to report any issues you encounter, but please note that our support may be limited. ",(0,s.jsx)(n.strong,{children:"Use at your own risk."})]}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Found a bug?"})," We welcome you to investigate and submit a fix! See our ",(0,s.jsx)(n.a,{href:"https://github.com/facebookresearch/momentum/blob/main/CONTRIBUTING.md",children:"Contributing Guide"}),"."]}),"\n"]}),(0,s.jsx)(i,{children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Want to publish packages directly?"})," If you need to publish PyMomentum packages to PyPI yourself, please reach out to us\u2014we can share publishing tokens with trusted contributors."]}),"\n"]})}),(0,s.jsxs)(n.p,{children:["For the most stable and well-tested installation experience, we recommend using ",(0,s.jsx)(n.strong,{children:"Conda"})," or ",(0,s.jsx)(n.strong,{children:"Pixi"}),"."]})]}),"\n",(0,s.jsx)(n.h4,{id:"pixi",children:"Pixi"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Best for:"})," Development, reproducible environments, managing C++ dependencies alongside Python."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Auto-detects GPU/CPU based on system\npixi add pymomentum\n\n# Explicit backend selection\npixi add pymomentum-cpu  # CPU-only\npixi add pymomentum-gpu  # GPU (CUDA) support\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Browse packages:"})," ",(0,s.jsx)(n.a,{href:"https://prefix.dev/channels/conda-forge/packages/momentum",children:"prefix.dev/channels/conda-forge/packages/momentum"})]}),"\n",(0,s.jsx)(n.h4,{id:"conda",children:"Conda"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Best for:"})," Existing conda workflows, scientific Python environments."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Auto-detects GPU/CPU based on system\nconda install -c conda-forge pymomentum\n\n# Explicit backend selection\nconda install -c conda-forge pymomentum-cpu  # CPU-only\nconda install -c conda-forge pymomentum-gpu  # GPU (CUDA) support\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Browse packages:"})," ",(0,s.jsx)(n.a,{href:"https://anaconda.org/conda-forge/momentum",children:"anaconda.org/conda-forge/momentum"})]}),"\n",(0,s.jsx)(n.h3,{id:"checking-available-versions",children:"Checking Available Versions"}),"\n",(0,s.jsx)(n.p,{children:"To see which PyMomentum versions are available for your package manager:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"PyPI:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pip index versions pymomentum-cpu\npip index versions pymomentum-gpu\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Conda/Pixi:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pixi search -c conda-forge pymomentum\n# or\nconda search -c conda-forge pymomentum\n"})}),"\n",(0,s.jsx)(n.h2,{id:"building-pymomentum-from-source",children:"Building PyMomentum from Source"}),"\n",(0,s.jsx)(n.h3,{id:"prerequisite",children:"Prerequisite"}),"\n",(0,s.jsx)(n.p,{children:"Complete the following steps only once:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Install Pixi by following the instructions on the ",(0,s.jsx)(n.a,{href:"https://prefix.dev/",children:"website"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Clone the repository and navigate to the root directory:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/facebookresearch/momentum\ncd momentum\n"})}),"\n",(0,s.jsx)(n.p,{children:"Ensure that all subsequent commands are executed in the project's root directory unless specified otherwise."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"build-and-test",children:"Build and Test"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Build the project with the following command (note that the first run may take a few minutes as it installs all dependencies):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pixi run build\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Run the Python tests with:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pixi run test_py\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"building-from-source-for-custom-environments",children:"Building from Source for Custom Environments"}),"\n",(0,s.jsx)(n.p,{children:"If you need to use PyMomentum in your own conda environment with specific dependency versions (e.g., particular PyTorch or CUDA versions), you have two options:"}),"\n",(0,s.jsx)(n.h4,{id:"option-1-add-your-codepackages-to-the-pixi-environment-recommended-for-quick-testing",children:"Option 1: Add your code/packages to the pixi environment (recommended for quick testing)"}),"\n",(0,s.jsxs)(n.p,{children:["For quick testing and development, you can add your packages or code to the existing pixi environment by modifying ",(0,s.jsx)(n.code,{children:"pixi.toml"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Add a package dependency to pixi.toml\npixi add your-package-name\n\n# Or manually edit pixi.toml to add your custom dependencies\n"})}),"\n",(0,s.jsx)(n.p,{children:"This approach avoids the complexity of managing dependencies manually and ensures compatibility with the pixi-managed environment."}),"\n",(0,s.jsx)(n.h4,{id:"option-2-build-in-your-custom-conda-environment",children:"Option 2: Build in your custom conda environment"}),"\n",(0,s.jsx)(n.p,{children:"For production use or when you need specific dependency versions:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Activate your target conda environment:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"conda activate your_environment_name\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Navigate to the momentum source directory:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd path/to/momentum\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Install required dependencies:"}),"\n",(0,s.jsxs)(n.p,{children:["When building with ",(0,s.jsx)(n.code,{children:"pip install ."})," in your custom environment, you need to manually install PyMomentum's dependencies. See the ",(0,s.jsx)(n.code,{children:"dependencies"})," section in ",(0,s.jsx)(n.a,{href:"https://github.com/facebookresearch/momentum/blob/main/pixi.toml",children:"pixi.toml"})," for the complete list of required packages. Key dependencies include:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Install core dependencies (adjust versions as needed)\nconda install -c conda-forge pytorch eigen ceres-solver\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Build and install PyMomentum:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pip install .\n"})}),"\n",(0,s.jsx)(n.p,{children:"This builds and installs PyMomentum using the dependencies in your activated environment."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["I built the latest unreleased version with ",(0,s.jsx)(n.code,{children:"pixi run build_py"}),". Can I use it in my conda environment?"]})}),"\n",(0,s.jsxs)(n.p,{children:["No. ",(0,s.jsx)(n.code,{children:"pixi run build_py"})," builds within pixi's isolated environment. To use the latest version in your conda environment, activate it and run ",(0,s.jsx)(n.code,{children:"pip install ."})," as shown above."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Finding available PyMomentum versions:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pixi search -c conda-forge pymomentum\n# or\nconda search -c conda-forge pymomentum\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Installing specific versions with CUDA constraints:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Example: Install version 0.1.74 with CUDA 12.9\nconda install -c conda-forge pymomentum=0.1.74="cuda129*"\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Dependency conflicts or version incompatibility:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Ensure your environment has compatible PyTorch, CUDA, and build dependencies (",(0,s.jsx)(n.code,{children:"scikit-build-core"}),", ",(0,s.jsx)(n.code,{children:"pybind11"}),", CMake, C++ compiler)"]}),"\n",(0,s.jsx)(n.li,{children:"PyMomentum links against PyTorch's CUDA libraries, so CUDA versions must match"}),"\n",(0,s.jsxs)(n.li,{children:["For custom PyTorch/CUDA combinations not available on conda-forge, build from source (as described above) or contribute a backport to the ",(0,s.jsx)(n.a,{href:"https://github.com/conda-forge/momentum-feedstock",children:"momentum-feedstock repository"})]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);