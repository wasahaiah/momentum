"use strict";(globalThis.webpackChunkmomentum_website=globalThis.webpackChunkmomentum_website||[]).push([[2656],{9715:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>d,contentTitle:()=>a,default:()=>m,frontMatter:()=>l,metadata:()=>r,toc:()=>s});const r=JSON.parse('{"id":"examples/convert_model","title":"Convert Model","description":"The convert_model example demonstrates how to convert a character model and its associated animation file between FBX and GLB formats. Use the -m or --model option to specify the input model, followed by the path to the model file (.fbx or .glb). If no input model is provided, the tool will automatically read the animation from an existing GLB or FBX file.","source":"@site/docs_cpp/03_examples/03_convert_model.md","sourceDirName":"03_examples","slug":"/examples/convert_model","permalink":"/momentum/docs/examples/convert_model","draft":false,"unlisted":false,"editUrl":"https://github.com/facebookresearch/momentum/edit/main/momentum/website/docs_cpp/03_examples/03_convert_model.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Process Markers","permalink":"/momentum/docs/examples/process_markers"},"next":{"title":"Refine Motion (Post-process noisy tracking motion)","permalink":"/momentum/docs/examples/refine_motion"}}');var t=n(74848),i=n(28453);const l={sidebar_position:3},a="Convert Model",d={},s=[];function c(e){const o={admonition:"admonition",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components},{FbInternalOnly:n,OssOnly:r}=o;return n||h("FbInternalOnly",!0),r||h("OssOnly",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.header,{children:(0,t.jsx)(o.h1,{id:"convert-model",children:"Convert Model"})}),"\n",(0,t.jsxs)(o.p,{children:["The ",(0,t.jsx)(o.code,{children:"convert_model"})," example demonstrates how to convert a character model and its associated animation file between FBX and GLB formats. Use the ",(0,t.jsx)(o.code,{children:"-m"})," or ",(0,t.jsx)(o.code,{children:"--model"})," option to specify the input model, followed by the path to the model file (",(0,t.jsx)(o.code,{children:".fbx"})," or ",(0,t.jsx)(o.code,{children:".glb"}),"). If no input model is provided, the tool will automatically read the animation from an existing GLB or FBX file."]}),"\n",(0,t.jsx)(n,{children:(0,t.jsx)(o.admonition,{type:"note",children:(0,t.jsxs)(o.p,{children:["The buck mode ",(0,t.jsx)(o.code,{children:"@arvr/mode/win/opt"})," is for Windows. Use ",(0,t.jsx)(o.code,{children:"@arvr/mode/mac-arm/opt"})," for macOS or ",(0,t.jsx)(o.code,{children:"@arvr/mode/platform010/opt"})," for Linux."]})})}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{children:"convert_model [OPTIONS]\n\nOptions:\n  -h,--help                   Print this help message and exit\n  -m,--model TEXT:FILE        Input model (.fbx/.glb); not required if reading animation from glb or fbx\n  -p,--parameters TEXT:FILE   Input model parameter file (.model)\n  -l,--locator TEXT:FILE      Input locator file (.locators)\n  -d,--motion TEXT:FILE       Input motion data file (.mmo/.glb/.fbx)\n  -o,--out TEXT REQUIRED      Output file (.fbx/.glb)\n  --out-locator TEXT          Output a locator file (.locators)\n  --save-markers              Save marker data from motion file in output (glb only)\n  -c,--character-mesh         (FBX Output file only) Saves the Character Mesh to the output file.\n"})}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Example 1: Convert an fbx model to a glb model."}),"\n"]}),"\n",(0,t.jsx)(r,{children:(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{children:"pixi run convert_model -m character.fbx -p character.model -l character.locators -o character.glb\n"})})}),"\n",(0,t.jsx)(n,{children:(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{children:"buck run @arvr/mode/win/opt convert_model -- -m character.fbx -p character.model -l character.locators -o character.glb\n"})})}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Example 2: Convert a glb file to an fbx file with animation curves only (without mesh)."}),"\n"]}),"\n",(0,t.jsx)(r,{children:(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{children:"pixi run convert_model -d animation.glb -o animation.fbx\n"})})}),"\n",(0,t.jsx)(n,{children:(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{children:"buck run @arvr/mode/win/opt convert_model -- -d animation.glb -o animation.fbx\n"})})}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Example 3: Convert an fbx animation to glb with a given model parameter file. There is no guarantee the conversion is lossless. We will simply use InverseParameterTransform for a least square fit of the parameters."}),"\n"]}),"\n",(0,t.jsx)(r,{children:(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{children:"pixi run convert_model -d animation.fbx -p character.model -o animation.glb\n"})})}),"\n",(0,t.jsx)(n,{children:(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{children:"buck run @arvr/mode/win/opt convert_model -- -d animation.fbx -p character.model -o animation.glb\n"})})}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:["Example 4: Apply animation from an s0 model to a s4 model for high-res rendering (ie. with mesh). The ",(0,t.jsx)(o.code,{children:".model"})," file is needed if the target model is in ",(0,t.jsx)(o.code,{children:".fbx"})," format so we know how to map the input motion."]}),"\n"]}),"\n",(0,t.jsx)(r,{children:(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{children:"pixi run convert_model -m character.fbx -p character.model -d animation_s0.glb -o animation_s4.fbx -c\n"})})}),"\n",(0,t.jsx)(n,{children:(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{children:"buck run @arvr/mode/win/opt convert_model -- -m character.fbx -p character.model -d animation_s0.glb -o animation_s4.fbx -c\n"})})})]})}function m(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}function h(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);